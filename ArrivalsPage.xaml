<Page x:Class="MAINwpfAirportProject.ArrivalsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:MAINwpfAirportProject"
      mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="800"
      Title="ArrivalsPage">

    <Grid>

        <!-- Background -->
        <Image Source="D:\MAINwpfAirportProject\pictures\darkairportimproved.png"
               Stretch="UniformToFill"/>

        <!-- Dark overlay -->
        <Rectangle Fill="#99000000"/>

        <!-- bigger card: smaller margin -->
        <Border Margin="70"
                Background="#EFFFFFFF"
                CornerRadius="12"
                Padding="18">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="12"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="10"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Title row + Back arrow -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="Arrivals"
                               FontSize="28"
                               FontWeight="Bold"
                               Foreground="#0B1B2B"/>

                    <Button Grid.Column="1"
                            Width="40"
                            Height="34"
                            Background="#EFFFFFFF"
                            BorderBrush="#DDDDDD"
                            BorderThickness="1"
                            FontSize="18"
                            FontWeight="Bold"
                            Content="←"
                            Cursor="Hand"
                            Click="BackToHome_Click"/>
                </Grid>

                <!-- Select airport row (dark transparent bar) -->
                <Border Grid.Row="2"
                        Background="#88000000"
                        CornerRadius="8"
                        Padding="10">

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="14"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="Select Airport"
               VerticalAlignment="Center"
               FontWeight="SemiBold"
               Foreground="White"
               FontSize="14"/>

                        <ComboBox x:Name="airportComboBox"
              Grid.Column="2"
              Height="34"
              Padding="10,2"
              SelectionChanged="SelectAirport"/>

                        <TextBlock Grid.Column="4"
               Text="Show"
               VerticalAlignment="Center"
               FontWeight="SemiBold"
               Foreground="White"
               FontSize="14"/>

                        <ComboBox x:Name="modeComboBox"
              Grid.Column="6"
              Height="34"
              Padding="10,2"
              SelectionChanged="SelectAirport"/>
                    </Grid>
                </Border>

                <!-- Blue info bar -->
                <Border Grid.Row="4"
                        Background="#1F6FDB"
                        CornerRadius="8"
                        Padding="10">
                    <TextBlock x:Name="infoText"
                               Foreground="White"
                               FontWeight="SemiBold"
                               FontSize="14"
                               Text="Arrival flights to: (select an airport)"/>
                </Border>

                <!-- Table -->
                <!--data grid זה כמוgrid אבל נועד להצגת מידע וכולל אייטם סורס לא כמו גריד רגיל שנועד רק לעיצוב--> 
                <DataGrid Grid.Row="5"
                          x:Name="flightsGrid"
                          Margin="0,12,0,0"
                          AutoGenerateColumns="False"
                          IsReadOnly="True"
                          CanUserAddRows="False"
                          HeadersVisibility="Column"
                          RowHeaderWidth="0"
                          Background="White"
                          BorderBrush="#E6E6E6"
                          BorderThickness="1"
                          FontSize="14"
                          RowHeight="52"
                          MinRowHeight="52"

                          GridLinesVisibility="All"
                          VerticalGridLinesBrush="#D9D9D9"
                          HorizontalGridLinesBrush="#E6E6E6">

                    <DataGrid.Resources>

                        <!-- Column headers, This code controls how the titles of the table columns look
(From,To,Takeoff,Arrival,Plane,Price) -->
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="Background" Value="#F3F4F6"/>
                            <Setter Property="Foreground" Value="#374151"/>
                            <Setter Property="FontWeight" Value="SemiBold"/> <!--מדגיש קצת את הכותרות-->
                            <Setter Property="Padding" Value="12,10"/> <!--Padding means space inside the cell-->
                            <Setter Property="BorderThickness" Value="0,0,0,1"/>
                            <Setter Property="BorderBrush" Value="#E6E6E6"/>
                        </Style>

                         <!--Rows:-->
                        <Style TargetType="DataGridRow">
                            <Setter Property="Background" Value="White"/>
                            <Style.Triggers><!--Triggers הם כמו חוקים-->
                                <Trigger Property="IsMouseOver" Value="True"><!--אם העכבר מעל השורה אז הופך את הרקע של השורה לכחול-->
                                    <Setter Property="Background" Value="#F7FAFF"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>

                        <!-- Cells -->
                        <Style TargetType="DataGridCell"><!--כל ההגדרות כאן יחולו על כל תא בטבלת הdatagrid-->
                            <Setter Property="Padding" Value="12,8"/>
                            <Setter Property="Foreground" Value="#111827"/>
                        </Style>

                    </DataGrid.Resources>

                    <DataGrid.Columns>
                        <DataGridTextColumn Header="From"
                                            Binding="{Binding CurrentAirport.AirportName}"
                                            Width="1*"/>

                        <DataGridTextColumn Header="To"
                                            Binding="{Binding DestinationAirport.AirportName}"
                                            Width="1*"/>
                        <DataGridTextColumn Header="Date"
                        Binding="{Binding ArrivalTime, StringFormat=dd/MM/yyyy}"
                        Width="*"/>

                        <DataGridTextColumn Header="Takeoff"
                                            Binding="{Binding TakeOffTime, StringFormat=HH\\:mm}"
                                            Width="*"/>

                        <DataGridTextColumn Header="Arrival"
                                            Binding="{Binding ArrivalTime, StringFormat=HH\\:mm}"
                                            Width="*"/>

                        <DataGridTextColumn Header="Plane"
                                            Binding="{Binding PlaneType.PlanesFlightCompany.FlightCompanyName}"
                                            Width="*"/>

                        <DataGridTextColumn Header="Price"
                                            Binding="{Binding Price}"
                                            Width="*"/>
                    </DataGrid.Columns>

                </DataGrid>

            </Grid>
        </Border>

    </Grid>
</Page>
